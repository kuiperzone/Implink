Hi Gary,

Just to let you know that I've been focusing on the database side. I've installed and got MariaDB running and have
figured out how to create tables etc.

I'm planning on having two routing or "client profile" tables named: "RtRoute" and "RoRoute", where RT standards
for "remote terminated" and corresponds to an outgoing message (such as to Twitter). RO stands for "remote originated"
and corresponds to incomding messages from other IMP platforms. The operation of messages on both routes is identical/symmetrical,
save that the RO server is exposed to the public internet and therefore will employ HTTPS and user authentication on
receipt of incoming messages.

So there are two tables, with identical columns, which look like this:

CREATE OR REPLACE TABLE RtRoute
(
    NameId VARCHAR(64) NOT NULL,
    BaseAddress VARCHAR(128) NOT NULL,

    ApiKind VARCHAR(16),
    Categories VARCHAR(64),
    Authentication VARCHAR(128) NOT NULL,
    UserAgent VARCHAR(24),
    MaxText INT2,
    ThrottleRate INT2,
    Timeout INT4 DEFAULT 15000,

    Enabled BOOLEAN DEFAULT TRUE,
    DisableSslValidation BOOLEAN DEFAULT FALSE,

    PRIMARY KEY(NameId,BaseAddress)

) DEFAULT CHARSET='utf8' DEFAULT COLLATE='utf8_general_ci';


**** PLEASE DO COMMENT ****

Note that the "NameId" and "BaseAddress" combine to form the key, which is case insensitive. Is this OK? Or do
we need (or should have) an INT AUTO INCREMENT primary key (I can't see I would use it personally).

For detailed explanation of what these fields do, see the file:

https://github.com/kuiperzone/Implink/blob/main/Implink.Api/IReadOnlyClientProfile.cs

NB. The class properties correspond to above.

Currently, I batch load (query) ALL records into RAM, so I don't care about primary keys. However, it would be
nice to have the option in the future to query on just the NameId value and return only matching records (which
is how you originally envisaged it working).




CREATE DATABASE Implink;
CREATE DATABASE ImpTest;
CREATE USER 'implink'@localhost IDENTIFIED BY 'imp77';
CREATE USER 'admin'@localhost IDENTIFIED BY 'imp77';

GRANT ALL PRIVILEGES ON *.* TO 'admin'@localhost;
GRANT SELECT ON *.* TO 'implink'@localhost;

FLUSH PRIVILEGES;

use ImpTest;

CREATE OR REPLACE TABLE RtRoute
(
    NameId VARCHAR(64) NOT NULL,
    BaseAddress VARCHAR(128) NOT NULL,

    ApiKind VARCHAR(16),
    Categories VARCHAR(64),
    Authentication VARCHAR(128) NOT NULL,
    UserAgent VARCHAR(24),
    MaxText INT2,
    ThrottleRate INT2,
    Timeout INT4 DEFAULT 15000,

    Enabled BOOLEAN DEFAULT TRUE,
    DisableSslValidation BOOLEAN DEFAULT FALSE,

    PRIMARY KEY(NameId,BaseAddress)

) DEFAULT CHARSET='utf8' DEFAULT COLLATE='utf8_general_ci';



MARIA DB

Ensure selinux to permissive

Start:
sudo systemctl start mariadb
systemctl status mariadb
sudo systemctl stop mariadb

Install:
https://unixcop.com/install-mariadb-fedora/
